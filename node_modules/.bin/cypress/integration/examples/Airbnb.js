describe('MyTestSuit', function() 
{
    it('open url', function() 
    {
      cy.visit("https://www.airbnb.com/") // open the url
  })
  it('enter value in where and click on Option', function() 
    {
      cy.get('._26hc67j ._1f8ev6q').type('Sicily, Italy') //search for given place
      cy.get("._qcpa4n span:contains('Sicily, Italy experiences')").click() // click on given selection in drop down
  })
  it('handle the checkin date and checkout date', function() 
    {
      for (var i = 1; i < 5; i++) {
      cy.get("._1svux14[data-visible='true']  strong").then(elem => {
          if (elem.text() == 'May 2020') {
            // select the given month, date and year 
            cy.get("._1svux14[data-visible='true'] td[aria-label*='May 2, 2020']").click()
          }
          else {
            // if month is not present in open widget click on next
          cy.get("._1h5uiygl").click()
           }
          })
        }
        cy.wait(2000)
        // select checkout date
           cy.get("._1svux14[data-visible='true'] td[aria-label*='May 9, 2020']").click()
   })
  
  it('handle guests drop down', function() 
    {
      // open guest drop down
      cy.get('._26hc67j ._j1kt73').click()
      // add one adult in guest list
      cy.get("._26hc67j div[aria-labelledby*='adults'] ._1a72ixey").click()
      // add one children in guest list
      cy.get("._26hc67j div[aria-labelledby*='children'] ._1a72ixey").click()
      // close guest drop down
      cy.get('._26hc67j ._j1kt73').click()
  })
  it('clcik on submit', function() 
    {
      // click on submit
      cy.get("button[type='submit']").click()
  })
  it('clcik on price, Add Min., Max. Price and Click on Save', function() 
    {
      cy.wait(5000)
      // click on price option
      cy.get("#menuItemButton-price_range").click()
      // clear and enter new min. price
      cy.get("#price_filter_min").clear().type('300')
      // clear and enter new max. price
      cy.get("#price_filter_max").clear().type('3000')
      // click on save button
      cy.get("#filter-panel-save-button").click()
  })
  it('experiences for given selection', function() 
    {
      cy.wait(1000)
      // navigate to first exprience from the results
      cy.get('._ka03lo').eq(1).find('a').then(($a)=>{
        var getUrl= Cypress.$($a,this).attr('href')
        cy.visit('https://www.airbnb.co.in'+getUrl, {
      timeout: 50000, // increase total time for the visit to resolve
      onBeforeLoad (contentWindow) {
        // contentWindow is the remote page's window object
        expect(typeof contentWindow === 'object').to.be.true
      },
      onLoad (contentWindow) {
        // contentWindow is the remote page's window object
        expect(typeof contentWindow === 'object').to.be.true
      },
    })
  })
  })
})